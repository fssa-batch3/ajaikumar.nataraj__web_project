<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="../assets/CSS/5a-fruits.css" />
    <link rel="stylesheet" href="../pages/6.buy-2.html" />
  </head>
  <body class="body">
    <div class="logo">
      <img src="../assets/image/logo.png" alt="logo" width="110px" />
    </div>
    <header>
      <div class="header">
        <button class="b-arrow" type="button" onclick="back()">
          <img
            class="before-arrow"
            src="../assets/image/arrowback.png"
            alt="arrow-back"
            width="40px"
          />
        </button>
        <div class="head">
          <div class="sb">
            <input
              class="search-bar"
              type="text"
              placeholder="Search"
              height="50px"
            />
          </div>
          <button class="search-button">
            <img
              class="search-icon"
              src="../assets/image/search.png"
              alt="search"
              width="40px"
            />
          </button>
          <button class="voice-button">
            <img
              class="voice-icon"
              src="../assets/image/mic.png"
              alt="mic"
              width="40px"
            />
            <br />
          </button>
        </div>
      </div>
    </header>
    <div class="side-bar">
      <h3>Types</h3>
      <div class="button">
        <button type="button" onclick="fruit()">Fruits</button>
        <button type="button" onclick="vegetable()">Vegetables</button>
        <button type="button" onclick="coffee()">Coffee</button>
        <button type="button" onclick="grain()">Grains</button>
      </div>
    </div>
    <main class="f-main">
      <section class="main-1"></section>
    </main>
    <footer class="footer">
      <button type="button" onclick="okay()">Okay</button>
    </footer>

    <script src="../pages/details.js"></script> -->
<!-- <script>
      // JSON
      let Card;

      Card = JSON.parse(localStorage.getItem("product_details"));

      // Card creating by using JavaScript

      for (let i = 0; i <= Card.length; i++) {
        let div_card = document.createElement("div");
        div_card.setAttribute("class", "full_card");
        div_card.setAttribute("type", "button");
        div_card.setAttribute("onclick", "card()");

        let image = document.createElement("img");
        image.setAttribute("src", Card[i]["Image"]);
        image.setAttribute("alt", Card[i]["alt"]);
        image.setAttribute("width", Card[i]["width"] + "px");
        image.setAttribute("id", "Url");
        div_card.append(image);

        let fruit_name = document.createElement("p");
        fruit_name.innerText = Card[i]["Name"];
        fruit_name.setAttribute("id", "Name");
        div_card.append(fruit_name);

        let rupees = document.createElement("p");
        rupees.innerText = Card[i]["Price"];
        rupees.setAttribute("id", "Price");
        div_card.append(rupees);

        let input_value = document.createElement("input");
        input_value.setAttribute("class", "bar");
        input_value.setAttribute("type", "number");
        input_value.setAttribute("width", "10px");
        input_value.setAttribute("id", "Qty");
        div_card.append(input_value);

        const a = document.createElement("a");
        a.setAttribute("href", "../pages/6.buy-2.html?Name" + Card[i]["Name"]);
        div_card.append(a);

        let buttons = document.createElement("button");
        buttons.setAttribute("class", "button");
        buttons.innerText = "ADD CART";
        a.append(buttons);

        document.querySelector("section.main-1").append(div_card);
      }

      function fruit() {
        window.location.href = "/pages/5a-fruits.html";
      }
      function vegetable() {
        window.location.href = "";
      }
      function coffee() {
        window.location.href = "";
      }
      function grain() {
        window.location.href = "";
      }

      function card() {
        window.location.href = "/pages/detail.html";
      }

      function back() {
        window.location.href = "/pages/4.index.html";
      }

      function okay() {
        window.location.href = "/pages/6.buy-2.html";
      }
    </script>
  </body>
</html> -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="../assets/CSS/history.css" />
  </head>
  <body>
    <header>
      <nav>
        <img
          src="../assets/image/arrowback.png"
          alt="arrow"
          onclick="back()"
          style="
            border-radius: 50px;
            padding: 10px 10px 10px 10px;
            background-color: #2bae66ff;
          "
        />
      </nav>
      <nav>
        <img
          src="../assets/image/RISHIMARKET (1).png"
          alt="logo"
          width="100px"
        />
      </nav>
      <!-- <nav><h2>Your history</h2></nav> -->
      <nav>
        <img src="../assets/image/profile.png" alt="profile" width="80px" />
      </nav>
    </header>
    <button onclick="cart()">Go to Cart</button>

    <main class="card_main">
      <!-- <section class="card_div">
        <input type="image" />
        <input type="text" />
        <input type="number" />
        <input type="number" />
      </section> -->
    </main>
    <!-- <form>
      First Number<br />
      <input id="num1" type="number" name="num1" />
      <br />
      Second Number:<br />
      <input id="num2" type="number" name="num2" />
      <br /><br />
      <input type="button" value="Do Maths" onclick="doMath();" />
    </form> -->

    <script>
      // JSON
      let Card = JSON.parse(localStorage.getItem("product_details"));
      console.log(Card);

      const detail = JSON.parse(localStorage.getItem("product_details"));

      // Card creating by using JavaScript
      for (let i = 0; i < Card.length; i++) {
        let findDetail = detail.find(function (event) {
          let id = event["Product_id"];
          if (Card[i]["Product_id"] == id) {
            return true;
          }
        });
        // console.log(Card[i]["Url"]);
        let div_card = document.createElement("div");
        div_card.setAttribute("class", "card_div");
        div_card.setAttribute("type", "button");
        div_card.setAttribute("id", "div");
        // div_card.setAttribute("id", Card[i]["id"]);
        // div_card.setAttribute("onclick", "card(this.id)");

        let image = document.createElement("img");
        // console.log(Card[i]);
        image.setAttribute("src", Card[i]["Url"]);
        image.setAttribute("alt", "image");
        image.setAttribute("id", "pUrl");
        div_card.append(image);

        let fruit_name = document.createElement("input");
        fruit_name.setAttribute("value", Card[i]["Name"]);
        fruit_name.setAttribute("id", "pName");
        div_card.append(fruit_name);

        let rupees = document.createElement("input");
        rupees.setAttribute("value", Card[i]["Price"]);
        rupees.setAttribute("id", "pPrice");
        rupees.setAttribute("type", "text");
        div_card.append(rupees);

        let input_value = document.createElement("input");
        // input_value.setAttribute("value", Card[i]["Qty"]);
        input_value.setAttribute("type", "number");
        input_value.setAttribute("placeholder", "Enter your quantity");
        input_value.setAttribute("width", "10px");
        input_value.setAttribute("id", "Qty");
        div_card.append(input_value);

        let button = document.createElement("button");
        button.innerText = "Add Cart";
        button.setAttribute("id", "delete");
        button.setAttribute("value", "delete");
        button.setAttribute("onclick", doMath());
        div_card.append(button);

        button.addEventListener("click", function (event) {
          event.preventDefault();
          let addData = JSON.parse(localStorage.getItem("added_list"));
          let findIndex = detail.indexOf(findDetail);
          let msg = confirm(
            "Are you sure you want to add this product to your cart"
          );
          if (msg !== true) {
            return;
          } else {
            if (addData === null) {
              let array = [];
              array.push(Card[findIndex]);
              localStorage.setItem("added_list", JSON.stringify(array));
            } else {
              addData.push(Card[findIndex]);
              localStorage.setItem("added_list", JSON.stringify(addData));
            }
          }

          function doMath() {
            var numOne = document.getElementById("pPrice");
            var numTwo = document.getElementById("Qty");
            var theProduct = numOne * numTwo;
            document.write(theProduct);

            localStorage.setItem("value", Card[i]["Total"]);
            let lastname = localStorage.getItem(theProduct);
          }
        });

        document.querySelector(".card_main").append(div_card);
      }
      // const product_id = JSON.parse(localStorage.getItem("product_details"));
      // let id = document.getElementById("Product_id");

      // console.log(detail);
      // const url = document.getElementById("pUrl");
      // const pname = document.getElementById("pName");
      // const price = document.getElementById("pPrice");
      // const qty = document.getElementById("pQty");

      // // url.value = detail["Url"];
      // pname.value = detail["Name"];
      // price.value = detail["Price"];
      // qty.value = detail["Qty"];

      // const div = document.getElementById("div");
      // div.addEventListener("submit", function (event) {
      //   event.preventDefault();
      //   // let Url = document.getElementById("pUrl").value;
      //   let Name = document.getElementById("pName").value;
      //   let Price = document.getElementById("pPrice").value;
      //   let Qty = document.getElementById("pQty").value;

      //   let changeData = {
      //     // Url,
      //     Name,
      //     Price,
      //     Qty,
      //   };
      //   // console.log(changeData);
      // });

      function cart() {
        window.location.href = "/pages/6.buy-2.html";
      }

      function back() {
        window.location.href = "/pages/4.index.html";
      }
      // function deleteP() {
      //   let Total = rupees * input_value;
      //   let object = detail.find(button);
      //   localStorage.getItem;
      //   localStorage.setItem("added_list", JSON.stringify(Total));
      // }

      // function doMath() {
      //   var numOne = document.getElementById("pPrice");
      //   var numTwo = document.getElementById("Qty");
      //   var theProduct = numOne * numTwo;
      //   document.write(theProduct);

      //   localStorage.setItem(Total, "theProduct");
      //   let lastname = localStorage.getItem(theProduct);
      // }
    </script>
  </body>
</html>
