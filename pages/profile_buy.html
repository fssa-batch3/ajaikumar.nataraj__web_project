<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="../assets/CSS/profile.css" />
  </head>
  <body>
    <header>
      <button onclick="back()">
        <i class="fa fa-angle-double-left"></i>Go back
      </button>
      <button id="delete">Delete</button>
      <button id="logout" click="logout" type="button">
        <span class="glyphicon glyphicon-log-out"></span> Log out
      </button>
    </header>
    <form class="main" id="form">
      <div class="profile">
        <img src="../assets/image/profile.png" alt="apple" /> <br />
        <label for="Home_Address">Home Address</label>
        <input
          id="Home_Address"
          class="input"
          placeholder="Home Address"
          disabled
        />

        <label for="gender">Gender</label>
        <input
          id="gender"
          class="input"
          placeholder="Gender (Male / Female)"
          disabled
        />
      </div>
      <div class="form" id="form">
        <label for="User name">User name</label> <br />
        <input id="First_name" class="input" placeholder="User Name" disabled />
        <label for="ph no">Phone Number</label>
        <input
          id="Phone_Number"
          class="input"
          placeholder="Phone Number"
          disabled
        />
        <label for="email">Email</label>
        <input id="Email" class="input" placeholder="Email" disabled />
        <label for="password">Password</label>
        <input id="password" class="input" placeholder="Password" disabled />
        <i class="bi bi-eye-slash" id="togglePassword"></i>
        <label for="Date of Birth">Date of Birth</label>
        <input
          id="DOB"
          type="date"
          class="input"
          placeholder="Date of Birth"
          disabled
        />

        <label for="district">District</label>
        <input id="District" class="input" placeholder="District" disabled />
        <label for="state">State</label>
        <input id="state" class="input" placeholder="State" disabled />
        <label for="country">Country</label>
        <input id="country" class="input" placeholder="Country" disabled />
        <button type="button" onclick="change()">EDIT</button>
      </div>
    </form>
    <footer></footer>

    <!-- <script>
      const oneUser = JSON.parse(localStorage.getItem("buyer_logIn"));

      const buyer_info = JSON.parse(localStorage.getItem("newBuyerInfo"));
      let select_user = buyer_info.find(function (event) {
        // try {
        let customerEmail = event["Email"];
        if (oneUser == customerEmail) {
          return true;
        }
        // } catch (error) {
        //   console.error(error);
        // }
      });

      console.log(select_user);
      // to get value from registration form
      const email = document.getElementById("Email");
      const phNo = document.getElementById("Phone_Number");
      const userName = document.getElementById("First_name");
      const password = document.getElementById("password");
      const DOB = document.getElementById("DOB");
      const transport_DOB = document.getElementById("DOB");
      const Home_Address = document.getElementById("Home_Address");
      const District = document.getElementById("District");
      const gender = document.getElementById("gender");
      const state = document.getElementById("state");
      const country = document.getElementById("country");

      // Compare the values
      email.value = select_user["Email"];
      phNo.value = select_user["Phone_number"];
      userName.value = select_user["FullName"];
      password.value = select_user["Password"];
      DOB.value = select_user["DOB"] || "";
      transport_DOB.value = select_user["DOB"] || "";
      Home_Address.value = select_user["Home_Address"] || "";
      District.value = select_user["District"] || "";
      gender.value = select_user["gender"] || "";
      state.value = select_user["state"] || "";
      country.value = select_user["country"] || "";

      // delete option in the page

      let delete_user = document.getElementById("delete");
      delete_user.addEventListener("click", function (event) {
        event.preventDefault();
        try {
          let indexDel = buyer_info.indexOf(select_user);
          let msg = confirm("Are you sure you want to delete your account");
          if (msg !== true) {
            return;
          } else {
            buyer_info.splice(indexDel, 1);
            console.log(buyer_info);
            localStorage.setItem("newBuyerInfo", JSON.stringify(buyer_info));
            window.location.href = "/pages/1.signin.html";
          }
        } catch (error) {
          console.error(error);
        }
      });

      let logout_user = document.getElementById("logout");
      logout_user.addEventListener("click", function (event) {
        event.preventDefault();
        try {
          let indexDel = buyer_info.indexOf(select_user);
          let msg = confirm(
            "Are you sure you want to logout from your account"
          );
          if (msg !== true) {
            return;
          } else {
            window.location.href = "/pages/2.Login.html";
          }
        } catch (error) {
          console.error(error);
        }
      });

      function back() {
        window.history.back();
      }

      function change() {
        window.location.href = "/pages/profileedit_buy.html";
      }

      // to show and hide password
      const togglePassword = document.querySelector("#togglePassword");

      const changePassword = document.querySelector("#password");

      togglePassword.addEventListener("click", () => {
        const type =
          changePassword.getAttribute("type") === "password"
            ? "text"
            : "password";

        changePassword.setAttribute("type", type);

        this.classList.toggle("bi-eye");
      });

      function change() {
        window.location.href = "/pages/profileedit_buy.html";
      }
    </script> -->
    <script src="/assets/JavaScript/buyer_profile.js"></script>
  </body>
</html>
